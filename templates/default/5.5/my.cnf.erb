[client]
<% if @port %>
port                           = <%= @port %>
<% end %>
<% if @socket_file %>
socket                         = <%= @socket_file %>
<% end %>
<% if @enable_utf8 == 'utf8mb4' %>
default-character-set          = utf8mb4
<% elsif @enable_utf8 %>
default-character-set          = utf8
<% end %>

[mysqld_safe]
socket                         = <%= @socket_file %>
<% if @nice %>
nice                           = 0
<% end %>

[mysqld]
user                           = mysql
pid-file                       = <%= @pid_file %>
socket                         = <%= @socket_file %>
<% if @port %>
port                           = <%= @port %>
<% end %>
<% if @basedir %>
basedir                        = <%= @base_dir %>
<% end %>
<% if @data_dir %>
datadir                        = <%= @data_dir %>
<% end %>
<% if @tmpdir %>
tmpdir                         = /tmp
<% end %>
<% if @lc_messages_dir %>
lc-messages-dir                = <%= @lc_messages_dir %>
<% end %>
<% if @enable_utf8 == 'utf8mb4' %>
collation-server               = utf8mb4_general_ci
init-connect                   = 'SET NAMES utf8mb4'
character-set-server           = utf8mb4
innodb_file_format             = Barracuda
innodb_file_per_table          = 1
innodb_large_prefix
<% elsif @enable_utf8 %>
collation-server               = utf8_general_ci
init-connect                   = 'SET NAMES utf8'
character-set-server           = utf8
<% end %>

[mysql]
<% if @include_dir %>
!includedir <%= @include_dir %>
<% end %>
<% if @enable_utf8 == 'utf8mb4' %>
default-character-set          = utf8mb4
<% elsif @enable_utf8 %>
default-character-set          = utf8
<% end %>
